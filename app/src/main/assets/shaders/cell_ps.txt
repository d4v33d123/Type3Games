//pixel shader
//sample texture and add its colour to the vertex colour

//set default float precision to mediump since highp is not supported on all devices in fragment stage
precision mediump float;

//input constants
uniform sampler2D sampler0;

//input variables
varying lowp vec4 vColour;
varying vec2 vTexCoord;

void main()
{
    //sample texture
    vec4 texColour = texture2D(sampler0, vTexCoord);

    //eliminate transparency on the cell
    if(texColour.w != 0.0)
        texColour.w = 1.0;

    //blend vertex colour with texture colour
    vec4 finalColour = vColour * texColour;

    gl_FragColor = finalColour;
}